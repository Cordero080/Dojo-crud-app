<!-- views/forms/index2.ejs -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
  </head>
  <body class="page-index-2">
    <%- include('../partials/nav') %>
    <h1><%= title %></h1>

    <% if (!forms || forms.length === 0) { %>
      <p>No forms yet. Create one to get started.</p>
    <% } else { %>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Rank</th>
            <th>Belt</th>
            <th>Category</th>
            <th>Created</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% forms.forEach(f => { %>
            <tr>
              <td><%= f.name %></td>
              <td><%= f.rankType %> <%= f.rankNumber %></td>
              <td><%= f.beltColor || '-' %></td>
              <td><%= f.category %></td>
              <td><%= new Date(f.createdAt).toLocaleDateString() %></td>
              <td>
                <a href="/forms/<%= f._id %>">Show</a> |
                <a href="/forms/<%= f._id %>/edit">Edit</a> |
                <a href="#" class="delete-link" data-id="<%= f._id %>">Delete</a>
                <form id="del-<%= f._id %>" action="/forms/<%= f._id %>?_method=DELETE" method="POST" style="display:none"></form>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } %>

    <%- include('../partials/footer') %>
  </body>
</html>
